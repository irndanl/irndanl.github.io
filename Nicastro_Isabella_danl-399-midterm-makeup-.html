<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Byeong-Hak Choe">
<meta name="dcterms.date" content="2024-04-04">

<title>Isabella Nicastro - DANL 399: Data Visualization and Presentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Isabella Nicastro</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./project-capstone.html" rel="" target="">
 <span class="menu-text">Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Nicastro-project-abstract.html" rel="" target="">
 <span class="menu-text">Project Proposal</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog-listing.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DANL 399: Data Visualization and Presentation</h1>
<p class="subtitle lead">Make-up Midterm Exam</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Byeong-Hak Choe </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            SUNY Geneseo
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 4, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="honor-pledges" class="level1">
<h1>Honor Pledges</h1>
<p>I solemnly swear that I will not cheat or engage in any form of academic dishonesty during this exam.</p>
<p>I will not communicate with other students or use unauthorized materials.</p>
<p>I will uphold the integrity of this exam and demonstrate my own knowledge and abilities.</p>
<p>By taking this pledge, I acknowledge that academic dishonesty undermines the academic process and is a violation of the trust placed in me as a student.</p>
<p>I accept the consequences of any violation of this promise.</p>
<ul>
<li>Student’s Name: Isabella Nicastro</li>
<li>Student’s ID:</li>
<li>Student’s Signature: Isabella Nicastro</li>
</ul>
</section>
<section id="load-r-packages" class="level1">
<h1>Load R packages</h1>
<ul>
<li>Here we are loading all the R packages we need for the Midterm Exam I, so that you do not need to load the R packages in your code.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br><br></p>
</section>
<section id="question-1" class="level1">
<h1>Question 1</h1>
<p>The following describes the context of the data.frame, <code>banks</code>.</p>
<ul>
<li><p>In the 1920s, Caldwell and Company, a prominent Southern banking chain, thrived. By the time of the Great Crash in 1929, Caldwell &amp; Company was a regional investment banking powerhouse doing $100,000,000 a year in securities sales alone. However, mismanagement and the stock market crash of October 1929 brought the Caldwell empire down in November 1930, triggering bank failures across several states.</p></li>
<li><p>Banks fundamentally rely on trust. They lend more than they hold, assuming not all depositors will withdraw simultaneously. But when confidence wanes, as in the 1930s, bank runs can ensue. Caldwell’s collapse notably impacted trust in the South, leading to a banking crisis in Mississippi in December 1930.</p></li>
<li><p>Economists debate the role of monetary policy during such crises. The Federal Reserve, divided into 12 districts, had varied responses. The Atlanta Fed actively extended loans to struggling banks, whereas the St.&nbsp;Louis Fed took a more cautious approach. Mississippi, straddling these districts, became a study in contrasting policies.</p></li>
<li><p>Within 4 weeks of Caldwell’s collapse, the Atlanta Fed had increased bank lending by about 40% in the Sixth District, where policy was to increase lending. In the same period, bank lending by the St.&nbsp;Louis Fed in the Eighth District fell only about 10%, where policy was to do little or even restrict lending.</p></li>
<li><p>Beginning in July 1931, the St.&nbsp;Louis Fed abandoned tight money and started lending to troubled banks freely. In other words, after 1931, Federal Reserve policy in the two districts was again similar, with both regional Feds willing to provide liquidity with a free hand. Moreover, while the Depression was far from over in 1932, the Caldwell crisis had petered out and withdrawals had returned to pre-crisis levels. Given the two regional Feds’ common readiness to lend as the need arose, trends in bank activity should again have been common after 1931.</p></li>
<li><p>The followings are the data frames for Question 1.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>banks_all <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://bcdanl.github.io/data/banks_ms_all.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="description-for-variables-in-banks_all" class="level2">
<h2 class="anchored" data-anchor-id="description-for-variables-in-banks_all">Description for Variables in <code>banks_all</code></h2>
<ul>
<li><p><code>year</code>: Year</p></li>
<li><p><code>month</code>: Month</p></li>
<li><p><code>day</code>: Day</p></li>
<li><p><code>bib6</code>: The number of banks in business in the Sixth District</p></li>
<li><p><code>bib8</code>: The number of banks in business in the Eighth District</p></li>
</ul>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>banks <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://bcdanl.github.io/data/banks_ms.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="description-for-variables-in-banks" class="level2">
<h2 class="anchored" data-anchor-id="description-for-variables-in-banks">Description for Variables in <code>banks</code></h2>
<ul>
<li><p><code>year</code>: Year</p></li>
<li><p><code>month</code>: Month</p></li>
<li><p><code>day</code>: Day</p></li>
<li><p><code>district</code>: District</p>
<ul>
<li><code>bib6</code>: The Sixth District</li>
<li><code>bib8</code>: The Eighth District</li>
<li><code>counterfactual</code>: The Sixth District Counterfactual. The counterfactual evolution of the number of banks in the Sixth District if the same number of banks had failed in that district after 1930 as did in the Eighth.</li>
</ul></li>
<li><p><code>n_banks</code>: The number of banks in business</p></li>
</ul>
<p><br></p>
</section>
<section id="q1a" class="level2">
<h2 class="anchored" data-anchor-id="q1a">Q1a</h2>
<ul>
<li>Provide your R code to create a new data.frame, <code>bank7_1</code>, which contains the observations with only July 1st for each year in the data.frame <code>banks_all</code>.</li>
</ul>
<p><br></p>
<p><br><br></p>
</section>
<section id="q1b" class="level2">
<h2 class="anchored" data-anchor-id="q1b">Q1b</h2>
<ul>
<li>Provide your R code to calculate the median, mean, and standard deviation of the number of banks in business in each district in the data.frame <code>banks_all</code>.</li>
</ul>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">banks_all</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">1878</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">month</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">day</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">15.68</td>
<td style="text-align: right;">8.79</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">▇▇▇▇▆</td>
</tr>
<tr class="even">
<td style="text-align: left;">year</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1931.57</td>
<td style="text-align: right;">1.54</td>
<td style="text-align: right;">1929</td>
<td style="text-align: right;">1930</td>
<td style="text-align: right;">1932</td>
<td style="text-align: right;">1933</td>
<td style="text-align: right;">1934</td>
<td style="text-align: left;">▇▅▅▅▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bib6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">118.62</td>
<td style="text-align: right;">13.89</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">133</td>
<td style="text-align: right;">142</td>
<td style="text-align: left;">▇▇▃▂▆</td>
</tr>
<tr class="even">
<td style="text-align: left;">bib8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">133.04</td>
<td style="text-align: right;">22.68</td>
<td style="text-align: right;">109</td>
<td style="text-align: right;">111</td>
<td style="text-align: right;">121</td>
<td style="text-align: right;">165</td>
<td style="text-align: right;">170</td>
<td style="text-align: left;">▇▃▁▁▅</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br><br></p>
</section>
<section id="q1c." class="level2">
<h2 class="anchored" data-anchor-id="q1c.">Q1c.</h2>
<ul>
<li>Provide the ggplot code to replicate the following ggplot figure that describes how the distribution of the number of banks in business varies by district.
<ul>
<li>Blue color corresponds to the Sixth district.</li>
<li>Red color corresponds to the Eighth district.</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q1c-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br></p>
<p><br><br></p>
</section>
<section id="q1d." class="level2">
<h2 class="anchored" data-anchor-id="q1d.">Q1d.</h2>
<ul>
<li>Provide the ggplot code with the data.frame <code>banks</code> to replicate the following ggplot figure that describes the yearly trend of the number of banks in business for each district.
<ul>
<li>The dotted line is from the observation with “counterfactual” <code>district</code> value .</li>
<li>The logical condition <code>district != "counterfactual"</code> returns <code>TRUE</code> if the value of <code>district</code> is not equal to “counterfactual”.</li>
<li>The logical condition <code>district != "counterfactual"</code> returns <code>FALSE</code> if the value of <code>district</code> is equal to “counterfactual”.</li>
<li>The number of banks in business in this figure was measured on July 1st in each year.</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q1d-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br></p>
</section>
<section id="q1e." class="level2">
<h2 class="anchored" data-anchor-id="q1e.">Q1e.</h2>
<ul>
<li>Considering the context of the data.frame, <code>banks</code>, and the ggplot figure in Q1d, make a detailed comment on the following questions:
<ul>
<li>Describe and compare the yearly trend of the number of banks in business depicted in the ggplot figure in Q1d.</li>
<li>What would be the effect of the monetary policy on bank failures in Mississippi in July 1934?</li>
<li>In the given ggplot figure in Q1d, point out the magnitude of such effect.</li>
</ul></li>
</ul>
<p><br></p>
<p><br><br></p>
</section>
</section>
<section id="question-2" class="level1">
<h1>Question 2</h1>
<p>The following is the data.frame <code>gapminder</code> from the <code>gapminder</code> R package for Question 2.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>gapminder <span class="ot">&lt;-</span> gapminder<span class="sc">::</span>gapminder</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variable-description" class="level2">
<h2 class="anchored" data-anchor-id="variable-description">Variable description</h2>
<ul>
<li><p><code>country</code>: factor with 142 levels</p></li>
<li><p><code>continent</code>: factor with 5 levels</p></li>
<li><p><code>year</code>: ranges from 1952 to 2007 in increments of 5 years</p></li>
<li><p><code>lifeExp</code>: life expectancy at birth, in years</p></li>
<li><p><code>pop</code>: population</p></li>
</ul>
<p><code>gdpPercap</code> GDP per capita (US$, inflation-adjusted)</p>
<p><br></p>
</section>
<section id="q2a." class="level2">
<h2 class="anchored" data-anchor-id="q2a.">Q2a.</h2>
<ul>
<li>Provide ggplot code to replicate the following visualization that describes (1) the time trend of <code>log10(gdpPercap)</code> for each <code>country</code> and (2) the time trend of <code>log10(gdpPercap)</code> for each <code>continent</code>.
<ul>
<li>The time trend of <code>log10(gdpPercap)</code> for each <code>continent</code>, depicted by the blue curve, is from the prediction based on the data points of <code>year</code> and <code>log10(gdpPercap)</code>.</li>
<li>The time trend of <code>log10(gdpPercap)</code> for each <code>country</code>, depicted by the “grey” curve, is from the data points of <code>year</code> and <code>log10(gdpPercap)</code> for that <code>country</code>.</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q2a-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br><br></p>
</section>
<section id="q2b." class="level2">
<h2 class="anchored" data-anchor-id="q2b.">Q2b.</h2>
<ul>
<li>Interpret the visualization in Q2a.</li>
</ul>
</section>
<section id="gdp-per-capita-has-changed-over-the-years-for-countries-within-each-continent.-each-panel-represents-one-continent-allowing-for-a-comparison-of-gdp-per-capita-trends-between-continents.-i-was-able-to-identify-differences-in-economic-development-trajectories-between-regions." class="level2">
<h2 class="anchored" data-anchor-id="gdp-per-capita-has-changed-over-the-years-for-countries-within-each-continent.-each-panel-represents-one-continent-allowing-for-a-comparison-of-gdp-per-capita-trends-between-continents.-i-was-able-to-identify-differences-in-economic-development-trajectories-between-regions.">GDP per capita has changed over the years for countries within each continent. Each panel represents one continent, allowing for a comparison of GDP per capita trends between continents. I was able to identify differences in economic development trajectories between regions.</h2>
<p><br></p>
<p><br><br></p>
</section>
<section id="q2c." class="level2">
<h2 class="anchored" data-anchor-id="q2c.">Q2c.</h2>
<ul>
<li>Provide ggplot code to replicate the following visualization that describes (1) the relationship between <code>log10(gdpPercap)</code> and <code>lifeExp</code> in <code>year</code> 2007, excluding the <code>continent</code> “Oceania”.
<ul>
<li>The size of dots varies by <code>pop</code>.</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q2c-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br></p>
<p><br><br></p>
</section>
<section id="q2d." class="level2">
<h2 class="anchored" data-anchor-id="q2d.">Q2d.</h2>
<ul>
<li>Interpret the visualization in Q2c.
<ul>
<li>In your interpretation, please explain the deviation of Nigeria from the overall relationship between <code>log10(gdpPercap)</code> and <code>lifeExp</code> in Africa. ## People in Nigeria specifically have a lower life expectancy then some of the people that live in Africa. The gdp is off from the baseline of Africa as well. <br></li>
</ul></li>
</ul>
<p><br><br></p>
</section>
</section>
<section id="question-3" class="level1">
<h1>Question 3</h1>
<p>The followings are the data.frames for Question 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>titanic_1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/titanic.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="description-for-variables-in-titanic_1" class="level2">
<h2 class="anchored" data-anchor-id="description-for-variables-in-titanic_1">Description for Variables in <code>titanic_1</code></h2>
<ul>
<li><p><code>Class</code>: Social class</p></li>
<li><p><code>Sex</code>: Sex</p></li>
<li><p><code>Age</code>: Age</p></li>
<li><p><code>Survived</code>: Survival status from the Titanic disaster.</p></li>
</ul>
<p><br></p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>titanic_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/titanic_2.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="description-for-variables-in-titanic_2" class="level2">
<h2 class="anchored" data-anchor-id="description-for-variables-in-titanic_2">Description for Variables in <code>titanic_2</code></h2>
<ul>
<li><p><code>pclass</code>: Social class</p></li>
<li><p><code>sex</code>: Sex</p></li>
<li><p><code>age</code>: Age</p></li>
<li><p><code>survived</code>: Survival status from the Titanic disaster.</p></li>
</ul>
<p><br></p>
<p><br></p>
</section>
<section id="q3a." class="level2">
<h2 class="anchored" data-anchor-id="q3a.">Q3a.</h2>
<ul>
<li>Provide ggplot code with the <code>titanic_1</code> data.frame to replicate the following visualization that describes how the distribution of <code>Sex</code> varies by <code>Survived</code>, <code>Age</code>, and <code>Class</code>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q3a-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br></p>
<p><br><br></p>
</section>
<section id="q3b." class="level2">
<h2 class="anchored" data-anchor-id="q3b.">Q3b.</h2>
<p>Make a detailed comment on the visualization in Q3a.</p>
<p><br><br></p>
</section>
<section id="q3c." class="level2">
<h2 class="anchored" data-anchor-id="q3c.">Q3c.</h2>
<ul>
<li>Provide ggplot code with the <code>titanic_2</code> data.frame to replicate the following visualization that describes how the distribution of <code>age</code> varies by <code>survived</code>, <code>pclass</code>, and <code>sex</code>.
<ul>
<li>Use the following colors: <code>#4c3642</code> and <code>#d399e7</code>.</li>
<li>The number of bins in each subplot is 25.</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q3c-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br></p>
<p><br><br></p>
</section>
<section id="q3d." class="level2">
<h2 class="anchored" data-anchor-id="q3d.">Q3d.</h2>
<p>Make a detailed comment on the visualization in Q3c. In the 1st class there is a higher percentage of a female surviving compared to a male. As for the second class citizen females survive more than males but for third class it gets very high for the death rate of a male compared to female.</p>
<p><br><br></p>
</section>
</section>
<section id="question-4" class="level1">
<h1>Question 4</h1>
<p>In September 2019, YouGov survey asked 1,639 GB adults the following question:</p>
<blockquote class="blockquote">
<p>In hindsight, do you think Britain was right/wrong to vote to leave EU?</p>
<ul>
<li>Right to leave<br>
</li>
<li>Wrong to leave<br>
</li>
<li>Don’t know</li>
</ul>
</blockquote>
<p>The data from the survey is in <code>brexit.csv</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>brexit <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://bcdanl.github.io/data/brexit.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<section id="q4a" class="level2">
<h2 class="anchored" data-anchor-id="q4a">Q4a</h2>
<ul>
<li>Replicate the following visualization</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q4a-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br><br></p>
</section>
<section id="q4b" class="level2">
<h2 class="anchored" data-anchor-id="q4b">Q4b</h2>
<ul>
<li>Replicate the following visualization
<ul>
<li>How is the story this visualization telling different than the story the plot in Q4a?</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q4b-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p><br><br></p>
</section>
<section id="q4c" class="level2">
<h2 class="anchored" data-anchor-id="q4c">Q4c</h2>
<ul>
<li>First, calculate the proportion of wrong, right, and don’t know answers in each region and then plot these proportions (rather than the counts) and then improve axis labeling.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>q4 <span class="ot">&lt;-</span> brexit <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region, opinion) <span class="sc">|&gt;</span>  </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tot =</span> <span class="fu">sum</span>(n),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">prop =</span> n <span class="sc">/</span> tot ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Replicate the following visualization
<ul>
<li>How is the story this visualization telling different than the story the plot in Q4b?</li>
</ul></li>
</ul>
<p><br><br></p>
</section>
<section id="q4d." class="level2">
<h2 class="anchored" data-anchor-id="q4d.">Q4d.</h2>
<ul>
<li><p>Recreate the same visualization from the previous exercise, this time dodging the bars for opinion proportions for each region, rather than faceting by region and then improve the legend.</p>
<ul>
<li>How is the story this visualization telling different than the story the previous plot tells?</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Nicastro_Isabella_danl-399-midterm-makeup-_files/figure-html/q4d-1.png" class="img-fluid" width="864"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script type="text/javascript" src="links.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Powered with GitHub and Quarto<br>© Isabella Nicastro, 2023</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>